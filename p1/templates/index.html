<!DOCTYPE html>
{% load static %}
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <title>SmartInside</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
  <link rel="stylesheet" href="{% static 'css/custom.css' %}">
  <link rel="stylesheet" href="{% static 'css/fonts.css' %}">
  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"
    type="text/css" />
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
    rel="stylesheet" type="text/css" />
  <!-- Core theme CSS (includes Bootstrap)-->
</head>

<body>
  <!-- Navbar -->
  {% include "navbar.html" %}
  <!-- Page Header-->

  <div id="demo" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ul class="carousel-indicators">
      <li data-target="#demo" data-slide-to="0" class="active"></li>
      <li data-target="#demo" data-slide-to="1"></li>
      <li data-target="#demo" data-slide-to="2"></li>
    </ul>
    <!-- The slideshow -->
    <div class="carousel-inner" style="height: 24rem">
      <div class="carousel-item active">
        <img src="{% static 'img/panorama-2117310 re.jpg' %}" alt="1">
      </div>
      <div class="carousel-item">
        <img src="{% static 'img/panorama-2117310 re.jpg' %}" alt="2">
      </div>
      <div class="carousel-item">
        <img src="{% static 'img/panorama-2117310 re.jpg' %}" alt="3">
      </div>
    </div>
    <!-- Left and right controls -->
    <a class="carousel-control-prev" href="#demo" data-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </a>
    <a class="carousel-control-next" href="#demo" data-slide="next">
      <span class="carousel-control-next-icon"></span>
    </a>
  </div>
  <!-- Main Content -->
  <!-- Board -->
  {% include "board.html" %}
  <!-- Divider-->
  <div class="container" style="max-width: 1750px!important;">
    <div class="row infinite-container">
      {% for writing in writings %}
      <div class="col-md-4 infinite-item">
        <div class="card mb-4 shadow-sm">
          <div class="col-md p-1">
            <span class="badge badge-secondary" style="background-color: #67E5C1;">{{writing.tag}}</span></h1>
          {% if writing.tag2 != Null %}
            <span class="badge badge-secondary" style="background-color: #67E5C1;">{{writing.tag2}}</span></h1>
          {% if writing.tag3  != Null %}
            <span class="badge badge-secondary" style="background-color: #67E5C1;">{{writing.tag3}}</span></h1>
            {% endif %}
            {% endif %}

          </div>
          <img class="img-thumbnail" src="../static/img/{{writing.id}}.png" style="width: 100%; height: 95%;"/>
          <div class="card-body">
            <a href="{% url 'about_detail' writing.id %}">
              <h5>{{writing.title}}</h5>
            </a>
            <p class="card-text">
              {{writing.contents|truncatewords:20}}
            </p>
          </div>
        </div>
      </div>
      {% endfor %}
      {% if writings.has_next %}
      <a class="infinite-more-link" href="?page={{ writings.next_page_number }}" style="visibility: hidden;"></a>
      {% endif %}
    </div>
    <!-- Infinite loading -->
    <div class="d-flex justify-content-center" style="display: none;">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </div>
  <!-- Divider-->
  <hr class="my-4" />
  <!-- Footer -->
  {% include "footer.html" %}
  <!-- Core theme JS-->
  <script src="/static/js/jquery-3.6.0.js"></script>
  <script src="/static/js/jquery.waypoints.min.js"></script>
  <script src="/static/js/infinite.min.js"></script>
  <script src="{% static 'js/bootstrap.js' %}"></script>
  <!-- Font Awesome icons (free version)-->
  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
  <script>
    var infinite = new Waypoint.Infinite({
      element: $('.infinite-container')[0],
      handler: function (direction) {

      },
      offset: 'bottom-in-view',
      onBeforePageLoad: function () {
        $('.spinner-border');
      },
      onAfterPageLoad: function () {
        $('.spinner-border').hide();
      }
    });
  </script>
</body>

</html>